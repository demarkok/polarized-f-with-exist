\begin{lemma}[Completeness of variable ordering]
  \label{lemma:ord-completeness}
  Variable ordering is invariant under equivalence.

  \begin{itemize}
    \item[$-$] For $[[iN ≈ iM]]$ and any $[[varset]]$, if $[[ord varset in uN =
      ordVars1]]$ and $[[ord varset in uM = ordVars2]]$, then $[[ordVars1]]$ =
      $[[ordVars2]]$ (as lists)
    
    \item[$+$] For $[[iP ≈ iQ]]$ and any $[[varset]]$, if $[[ord varset in uP =
      ordVars1]]$ and $[[ord varset in uQ = ordVars2]]$, then $[[ordVars1]]$ =
      $[[ordVars2]]$ (as lists)
  \end{itemize}
\end{lemma}
\begin{proof}
  Mutual induction on $[[iN ≈ iM]]$ and $[[iP ≈ iQ]]$.
\end{proof}

\begin{lemma}[Completeness of quantified normalization]
  Normalization returns the same representative for equivalent types.

  \begin{itemize}
  \item[$-$] If $[[iN ≈ iM]]$ then $[[nf(iN)]] = [[nf(iM)]]$
  \item[$+$] If $[[iP ≈ iQ]]$ then $[[nf(iP)]] = [[nf(iQ)]]$
  \end{itemize}
  (Here equality means alpha-equivalence)
\end{lemma}

\begin{proof}
  Mutual induction on $[[iN ≈ iM]]$ and $[[iP ≈ iQ]]$.
  \begin{itemize}
  \item {\nameref{\ottdruleEOneForallLabel}} 

    From the definition of the normalization,
    \begin{itemize}
      \item $[[nf(∀pas.iN)]] = [[∀pas'.nf(iN)]]$ where $[[pas']]$ is $[[ord pas in nf(iN)]]$
      \item $[[nf(∀pbs.iM)]] = [[∀pbs'.nf(iM)]]$ where $[[pbs']]$ is $[[ord pbs in nf(iM)]]$
    \end{itemize}
    Let us take $[[mu : (pbs ∩ fv iM) ↔ (pas ∩ fv iN)]]$ from the
    inversion of the equivalence judgment. Notice that by
    \cref{lemma:ord-soundness,corollary:fv-nf}, the domain and codomain of $\mu$ can be written
    as $[[mu : pbs' ↔ pas']]$.
    
    To show the alpha-equivalence of $[[∀pas'.nf(iN)]]$ and $[[∀pbs'.nf(iM)]]$,
    it suffices to prove that
    \begin{enumerate*}
    \item[(i)] $[[ [mu] nf(iM) ]] = [[nf(iN)]]$ and \newline
    \item[(ii)] $[[ [mu]pbs' ]] = [[pas']]$
    \end{enumerate*}.
    
    \begin{enumerate}
    \item[(i)] $[[ [mu] nf(iM) ]] = [[nf([mu]iM)]] = [[nf(iN)]]$.
      The first equality holds by \cref{lemma:norm-subst-commute}, the second---by the induction hypothesis.

    \item[(ii)] $\begin{aligned}[t] [[ [mu]pbs' ]] &= [[ [mu] ord pbs in nf(iM) ]]
                                                  && \text{by the definition of $[[pbs']]$ } \\
                                                  &= [[ [mu] ord (pbs ∩ fv iM) in nf(iM) ]]
                                                  && \text{by \cref{corollary:ord-weakening,corollary:fv-nf} } \\
                                                  &= [[ ord [mu] (pbs ∩ fv iM) in [mu] nf(iM) ]]
                                                  && \text{by \cref{lemma:distr-mu-ord}, because
                                                     $[[pas' ∩ fv iN]] \cap [[fv nf(iM)]] \subseteq [[pas ∩ fv iM ]]
                                                     = \emptyset$}\\
                                                  &
                                                  && \text{and $[[pas ∩ fv iN]] \cap [[(pbs ∩ fv iM)]] \subseteq
                                                     [[pas ∩ fv iM]] = \emptyset$} \\
                                                  &= [[ ord [mu] (pbs ∩ fv iM) in nf(iN) ]]
                                                  && \text{since $[[ [mu] nf(iM) ]] = [[nf(iN)]]$ is proved } \\
                                                  &= [[ ord (pas ∩ fv iN) in nf(iN) ]]
                                                  && \text{because $\mu$ is a bijection between
                                                     $[[pas ∩ fv iN]]$ and $[[pbs ∩ fv iM]]$} \\
                                                  &= [[ ord pas in nf(iN) ]]
                                                  && \text{by \cref{corollary:ord-weakening,corollary:fv-nf} } \\
                                                  &= [[ pas' ]]
                                                  && \text{by the definition of $[[pas']]$} \\
      \end{aligned}$
    \end{enumerate}
  \item {\nameref{\ottdruleEOneExistsLabel}} Same as for \nameref{\ottdruleEOneForallLabel}.
  \item Other rules are congruent, and thus, proved by the corresponding congruent alpha-equivalence rule,
    which is applicable by the induction hypothesis. 
  \end{itemize}

\end{proof}